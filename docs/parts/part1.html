<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
    <title>Exercise 1: Use Auto Layout in the Designer</title>
    <link rel="stylesheet" type="text/css" href="./res/styles/normalize.css">
    <link rel="stylesheet" type="text/css" href="./res/styles/prettify.css" />
    <link rel="stylesheet" type="text/css" href="./res/styles/styles.css">
</head>

<body>
    <!-- Use the same title as the StartHere -->
    <header>Auto Layout and Constraints</header>

    <section id="main">

        <h1 id="page-title"></h1>
        <h2>Duration</h2>
        <p>20 minutes</p>

        <h2>Lab Goals</h2>
        <p>
            The primary goal of this lab will be to use Auto Layout to arrange several common controls so they automatically size and position themselves relative to one another.
            <ol>
                <li>We will first use the Xamarin.iOS Designer to add a <code>UIImageView</code>, and a <code>UITextBlock</code> to a view controller.</li>
                <li>Then, we will use constraints to size and position the controls.</li>
            </ol>
            Our final layout should look something like this:
            <div align="center"><img src="res/images/ex1_complete.png" width="320" alt=""/></div>
        </p>


        <h1>Steps</h1>

        <h2>Create a Single View application</h2>
        <p>The first step is to create a new iOS project:</p>
        <ol>
            <li>Create a new Single View Application.</li>
            <li>Name the project &quot;MonkeyInfo&quot; and place it into a known location.</li>
            <li>Add the monkey.jpg image to the project's Resources folder. 
                You can find the image in the <b>Exercise 1</b> assets folder.</li>
        </ol>
        <h2>Add Controls to our UI</h2>
        <ol>
            <li>Add a <code>UIImageView</code> to the default View Controller in the storyboard and position it in the upper left corner. Give it a reasonable size and make it approximately square.</li>
            <li>Give the image view a name of <b>imgMonkey</b>. This will allow us to access the image programmatically in code in a later exercise.</li>
            <li>Set the contents of the image view to <b>monkey.jpg</b>.</li>
            <li>Drag a Text View onto the View Controller below the monkey image. 
                Resize the control so it takes up the entire width of the screen and the remaining height of the screen (with appropriate margins).</li>
            <li>Try running the application on an iPhone simulator and rotate the simulator to landscape. </li>
            <img class="indent-none" src="res/images/ex1_layout.png" width="640" />
        </ol>

        <h2>Add Constraints</h2>
        <ol>
            <li>Select the image and press the "Constraint Editing Mode" button in the upper right of the design surface.</li>
            <li>Constrain the left and top edges of the image to the parent view controller.</li>
            <li>Constrain the width and height of the image to fixed values by double-clicking the width and height dragging controls respectively.</li>

            <li>Select the text view and press the "Constraint Editing Mode" button in the upper right of the design surface.</li>
            <li>Constrain the left, right and bottom sides of the Text View to the edges of the parent view controller.</li>
            <li>Finally, constrain the top of the text view to the bottom of the monkey image view.</li>
            <p>If everything worked correctly, the <code>ImageView</code> and <code>TextView</code> should appear to be blue (not orange).</p>
            <img class="indent-none" src="res/images/ex1_tbars.png" width="150" />
        </ol>
        <h2>Clean up the Appearance</h2>
        <p>
            If you run the Monkey Info app now you'll see that the controls correctly resize when we change orientations.
            However, there are a couple of issues; the aspect ratio on the monkey image is a bit off and the text cuts off when we switch to landscape.
        </p>
        <ol>
            <li>Single-click on the Text View to select it.</li>
            <li>
                Select <b>Widget</b> on the Properties Tab. Scroll down to the <b>Scroll View</b> section and uncheck "Scrolling Enabled".
                Alternatively, you can adjust the sizing or properties on the Text View and Image View to make the text fit in landscape.
            </li>
            <li>Single-click the Image View to select it.</li>
            <li>In the <b>View</b> section of the properties, change the <b>Content Mode></b> to <b>Aspect Fill</b>. You'll notice the image aspect ratio has been corrected but it will over-draw.</li>
            <li>To correctly clip the image, tick the <b>Clip To Bounds</b> property in the <b>Drawing</b> section.</li>
        </ol>

        <h2>Bonus Exercise</h2>
        <p>Add a <code>UILabel</code> with the text "Tree Monkey" to the right of the monkey image. 
        Use constraints so it maintains it's position when the UI is rotated.</p>

        <h1>Summary</h1>
        <p>
            In this exercise, we created constraints using the Xamarin.iOS Designer to create a responsive UI.
        </p>

        <div class="align-right">
            <a href="../Start%20Here.html">Go Back</a>
        </div>

    </section>

    <script src="./res/js/jquery.min.js"></script>
    <script src="./res/js/prettify.js"></script>
    <script src="./res/js/script.js"></script>

    <footer>Copyright (C) 2018 Xamarin Inc., Microsoft.</footer>
</body>
</html>
